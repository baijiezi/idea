package com.test;

import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONObject;

import java.util.List;

/**
 * Created with IntelliJ IDEA.
 * User: BaiJiezi
 * Date: 16-2-29
 * Time: 上午10:16
 * To change this template use File | Settings | File Templates.
 */
public class JsonTest {
    public static void main(String[] args){

//        String str = "{\"Comment\":[],\"Value\":[\"2\",\"002340\",\"李丽珍\",\"9.58\",\"9.57\",\"9.56\",\"9.55\",\"9.54\",\"9.59\",\"9.60\",\"9.61\",\"9.62\",\"9.63\",\"1812\",\"704\",\"531\",\"281\",\"107\",\"1291\",\"556\",\"404\",\"114\",\"314\",\"10.53\",\"8.61\",\"9.58\",\"9.61\",\"0.01\",\"9.72\",\"0.10\",\"9.81\",\"246638\",\"9.37\",\"2026\",\"9.57\",\"2.37亿\",\"0.89\",\"2.11\",\"55.47\",\"103029\",\"143609\",\"12.36\",\"756\",\"3.15\",\"1\",\"11177161570\",\"13943065493\",\"0|0|0|0|0\",\"0|0|0|0|0\",\"2016-02-28 15:20:27\",\"4.60\",\"-\",\"-\"]}";
//        JSONObject jsonObject = JSON.parseObject(str);
//        System.out.println(jsonObject.get("Value"));

        String result = "var js={skif:\"1,204001,GC001,1.075,0.865,411.90%,,,2.500,0.210,2.800,0.805,0.00%,0.000,0.948,950.00%,0.000,638182200,45500,63818220,,,351939800,286242400,97.70%,1130200,-1,2016-03-04 15:04:12,-1\",bsif:[\"1.380,3000,0\",\"1.350,500,0\",\"1.300,7000,0\",\"1.275,2700,0\",\"1.250,100,0\",\"1.200,86100,0\",\"1.150,173700,0\",\"1.110,72200,0\",\"1.100,79500,0\",\"1.010,732000,0\"],dtif:[\"15:00:12,1.075,45500,-1\",\"14:59:57,1.200,1524500,1\",\"14:59:27,1.000,1153800,-1\",\"14:58:57,1.400,1273000,-1\",\"14:58:42,1.510,1287000,-1\",\"14:58:27,1.650,1574100,-1\",\"14:58:12,1.660,2753000,-1\",\"14:57:41,1.700,2768800,1\",\"14:57:26,1.690,3868600,1\",\"14:56:56,1.665,1403400,1\",\"14:56:26,1.660,2050900,-1\",\"14:56:11,1.680,1218700,1\",\"14:55:56,1.660,2947100,-1\",\"14:55:26,1.660,1740900,1\",\"14:55:11,1.655,1377600,1\",\"14:54:56,1.650,1942000,0\",\"14:54:41,1.630,2774300,1\",\"14:54:11,1.570,1470800,1\",\"14:53:56,1.500,2798500,1\",\"14:53:26,1.410,1534000,1\",\"14:53:11,1.370,4454400,1\",\"14:52:26,1.270,3418700,0\",\"14:51:56,1.265,1095900,0\",\"14:51:41,1.260,4088400,-1\",\"14:51:11,1.285,4192600,-1\"],dpif:[\"1,000001,上证指数,2874.15,14.39,0.50%,29498211,213,94,820,,,,,,1\",\"2,399001,深证成指,9536.71,-225.31,-2.31%,34566464,168,209,1413,,,,,,1\"]};";
        int idx1 = result.indexOf("{");
        int idx2 = result.lastIndexOf("}");
        String rs = result.substring(idx1, idx2+1);
        System.out.println(rs);
        JSONObject jsonObject = JSON.parseObject(rs);

        String[] skif = jsonObject.get("skif").toString().split(",");
        for(int i=0; i<skif.length; i++){
            System.out.println(i + "  " + skif[i]);
        }

        List bsif = (List)jsonObject.get("bsif");
        for(int i=0; i<bsif.size(); i++){
            System.out.println(i + "  " + bsif.get(i));
        }

        List dtif = (List)jsonObject.get("dtif");
        for(int i=0; i<dtif.size(); i++){
            System.out.println(i + "  " + dtif.get(i));
        }


    }
}
